{"version":3,"sources":["../src/createAppWebpackConfig.js"],"names":["createWebpackConfig","wrapCreateWebpackConfig","options","appWebpackConfigPath","resolve","console","log","appWebpackConfigCreator","require","error","config"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEeA,uBAAuB;AACpC,QAAMC,0BAA0BC,WAAWF,oBAAoB,6BAAcE,OAAd,CAApB,CAA3C;;AAEA,SAAOA,WAAW;AAChB,UAAMC,uBAAuB,eAAKC,OAAL,CAAa,2BAAb,CAA7B;AACA,QAAI,oBAAWD,oBAAX,CAAJ,EAAsC;AACpCE,cAAQC,GAAR,CAAY,qCAAZ,CADoC;;AAEpC;AACA,YAAMC,0BAA0BC,QAAQL,oBAAR,CAAhC;AACI,aAAOI,uBAAP,KAAmC,UAJH,IAKlCF,QAAQI,KAAR,+GALkC,EAWpCP,UAAU,6BAAcA,OAAd,CAX0B;;AAYpC,YAAMQ,SAASH,wBAAwBN,uBAAxB,EAAiDC,OAAjD,CAAf;;AASA,aAPI,OAAOQ,MAAP,KAAkB,QAOtB,IANEL,QAAQI,KAAR,yGAMF,EAAOC,MAAP;AACD;;AACC,WAAOT,wBAAwBC,OAAxB,CAAP;AAEH,GA3BD;AA4BD,C","file":"createAppWebpackConfig.js","sourcesContent":["import path from 'path';\nimport { existsSync } from 'fs';\nimport createOptions from './createOptions';\n\nexport default createWebpackConfig => {\n  const wrapCreateWebpackConfig = options => createWebpackConfig(createOptions(options));\n\n  return options => {\n    const appWebpackConfigPath = path.resolve('createAppWebpackConfig.js');\n    if (existsSync(appWebpackConfigPath)) {\n      console.log('Using app createAppWebpackConfig.js');\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      const appWebpackConfigCreator = require(appWebpackConfigPath);\n      if (typeof appWebpackConfigCreator !== 'function') {\n        console.error(\n          'app createAppWebpackConfig.js should export a function\\n' +\n            'module.exports = function (config, options) { ... }',\n        );\n      }\n\n      options = createOptions(options);\n      const config = appWebpackConfigCreator(wrapCreateWebpackConfig, options);\n\n      if (typeof config !== 'object') {\n        console.error(\n          'app createAppWebpackConfig.js should return the config\\n' +\n            'function (config, options) { return config; }',\n        );\n      }\n\n      return config;\n    } else {\n      return wrapCreateWebpackConfig(options);\n    }\n  };\n};\n"]}