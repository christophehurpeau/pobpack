{"version":3,"file":"index-node6-dev.cjs.js","sources":["../src/createOptions.js","../src/createAppWebpackConfig.js","../src/FriendlyErrorsWebpackPlugin.js","../src/createPobpackCompiler.js","../src/webpack/createModuleConfig.js","../src/webpack/createPluginsConfig.js","../src/webpack/createResolveConfig.js"],"sourcesContent":["// /* eslint-disable flowtype/no-weak-types */\n//\ntype ConfigPathsType = {|\n  build?: string,\n  src?: string,\n|};\n\ntype ConfigEntryType =\n  | string\n  | {|\n      key: string,\n      path: string,\n    |};\n\ntype BabelConfigType = Object;\n\nexport type OptionsType = {|\n  aliases?: ?{ [string]: any },\n  babel?: ?BabelConfigType,\n  defines?: ?{ [string]: any },\n  entries?: ?Array<ConfigEntryType>,\n  env?: ?string,\n  hmr?: boolean,\n  includeModules?: ?Array<string>,\n  includePaths?: ?Array<string>,\n  jsLoaders?: ?Array<any>,\n  moduleRules?: ?Array<any>,\n  paths?: ?ConfigPathsType,\n  plugins?: ?Array<any>,\n  prependPlugins?: ?Array<any>,\n  resolveLoaderModules?: ?Array<string>,\n  typescript?: ?boolean,\n  webpackPrefixPackageFields?: ?Array<string>,\n|};\n\nexport default (options: Object): OptionsType => ({\n  aliases: options.aliases || {},\n  babel: options.babel,\n  defines: options.defines || {},\n  entries: options.entries || ['index'],\n  env: options.env || process.env.NODE_ENV,\n  hmr: options.hmr,\n  includeModules: options.includeModules || [],\n  includePaths: options.includePaths || [],\n  jsLoaders: options.jsLoaders,\n  moduleRules: options.moduleRules,\n  paths: { src: 'src', build: 'build', ...options.paths },\n  plugins: options.plugins || [],\n  prependPlugins: options.prependPlugins || [],\n  resolveLoaderModules: options.resolveLoaderModules,\n  typescript: options.typescript || false,\n  webpackPrefixPackageFields: options.webpackPrefixPackageFields || [],\n});\n","import path from 'path';\nimport { existsSync } from 'fs';\nimport createOptions from './createOptions';\n\nexport default createWebpackConfig => {\n  const wrapCreateWebpackConfig = options => createWebpackConfig(createOptions(options));\n\n  return options => {\n    const appWebpackConfigPath = path.resolve('createAppWebpackConfig.js');\n    if (existsSync(appWebpackConfigPath)) {\n      console.log('Using app createAppWebpackConfig.js');\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      const appWebpackConfigCreator = require(appWebpackConfigPath);\n      if (typeof appWebpackConfigCreator !== 'function') {\n        console.error(\n          'app createAppWebpackConfig.js should export a function\\n' +\n            'module.exports = function (config, options) { ... }',\n        );\n      }\n\n      options = createOptions(options);\n      const config = appWebpackConfigCreator(wrapCreateWebpackConfig, options);\n\n      if (typeof config !== 'object') {\n        console.error(\n          'app createAppWebpackConfig.js should return the config\\n' +\n            'function (config, options) { return config; }',\n        );\n      }\n\n      return config;\n    } else {\n      return wrapCreateWebpackConfig(options);\n    }\n  };\n};\n","/* eslint-disable no-console */\n\nimport { addConfig, levels } from 'nightingale';\nimport Logger from 'nightingale-logger';\nimport ConsoleHandler from 'nightingale-console';\nimport formatWebpackMessages from 'react-dev-utils/formatWebpackMessages';\n\ntype OptionsType = {|\n  bundleName: string,\n  successMessage?: ?string,\n|};\n\naddConfig({ key: 'pobpack-utils', handler: new ConsoleHandler(levels.INFO) });\nconst logger = new Logger('pobpack-utils', 'pobpack');\nconst isSuccessful = messages => !messages.errors.length && !messages.warnings.length;\n\nconst plugin = { name: 'pobpack/FriendlyErrorsWebpackPlugin' };\n\nexport default class FriendlyErrorsWebpackPlugin {\n  bundleName: string;\n  successMessage: ?string;\n\n  constructor(options: ?OptionsType) {\n    Object.assign(this, options);\n    this.logger = logger.context({ bundleName: options.bundleName });\n  }\n\n  apply(compiler) {\n    // webpack is recompiling\n    compiler.hooks.invalid.tap(plugin, () => {\n      this.logger.info('Compiling...');\n    });\n\n    // compilation done\n    compiler.hooks.done.tap(plugin, stats => {\n      const messages = formatWebpackMessages(stats.toJson({}, true));\n      // const messages = stats.toJson({}, true);\n\n      if (isSuccessful(messages)) {\n        this.logger.success('Compiled successfully!', { env: this.env });\n        if (this.successMessage) {\n          console.log(this.successMessage);\n        }\n        return;\n      }\n\n      if (messages.errors.length) {\n        this.logger.critical('Failed to compile.');\n        console.log();\n        messages.errors.forEach(message => {\n          console.log(message);\n          console.log();\n        });\n        return;\n      }\n\n      if (messages.warnings.length) {\n        this.logger.critical('Compiled with warnings.');\n        console.log();\n        messages.warnings.forEach(message => {\n          console.log(message);\n          console.log();\n        });\n      }\n    });\n  }\n}\n","import { execSync } from 'child_process';\nimport { promisify } from 'util';\nimport chalk from 'chalk';\nimport ProgressBar from 'progress';\nimport webpack from 'webpack';\nimport ProgressPlugin from 'webpack/lib/ProgressPlugin';\nimport FriendlyErrorsWebpackPlugin from './FriendlyErrorsWebpackPlugin';\n\nconst buildThrowOnError = stats => {\n  if (!stats.hasErrors()) {\n    return stats;\n  }\n\n  throw new Error(stats.toString({}, true));\n};\n\ntype WebpackWatcherType = any;\nexport type WatchCallbackType = (stats: any) => void;\n\nexport type PobpackCompilerType = {|\n  clean: () => string,\n  compiler: any,\n  run: () => Promise,\n  watch: (callback: WatchCallbackType) => WebpackWatcherType,\n  webpackConfig: Object,\n|};\n\ntype CreateComplierOptionsType = {|\n  progressBar?: ?boolean,\n  successMessage?: ?string,\n|};\n\nexport default (\n  bundleName: string,\n  webpackConfig,\n  { progressBar = true, successMessage }: CreateComplierOptionsType = {},\n): PobpackCompilerType => {\n  const compiler = webpack({\n    ...webpackConfig,\n  });\n\n  if (progressBar && process.stdout.isTTY) {\n    let bar;\n    const progressPlugin = new ProgressPlugin((percentage: number, msg: string) => {\n      if (percentage === 0) {\n        bar = new ProgressBar(\n          `${chalk.yellow.bold(`Building ${bundleName} bundle...`)} ${chalk.bold(\n            ':percent',\n          )} [:bar] → :msg`,\n          { incomplete: ' ', complete: '▇', total: 50, clear: true, stream: process.stdout },\n        );\n        // } else if (percentage === 1) {\n        //   // bar.clear();\n        //   bar = null;\n      } else {\n        bar.update(percentage, { msg: msg.length > 20 ? `${msg.substr(0, 20)}...` : msg });\n      }\n    });\n    progressPlugin.apply(compiler);\n  }\n\n  // human-readable error messages\n  new FriendlyErrorsWebpackPlugin({ bundleName, successMessage }).apply(compiler);\n\n  const promisifyRun = promisify(compiler.run.bind(compiler));\n\n  return {\n    compiler,\n    webpackConfig,\n    clean: () => webpackConfig.output.path && execSync(`rm -Rf ${webpackConfig.output.path}`),\n    run: () => promisifyRun().then(buildThrowOnError),\n    watch: callback =>\n      compiler.watch({}, (err, stats) => {\n        if (err) return;\n        if (stats.hasErrors()) return;\n        buildThrowOnError(stats);\n        callback(stats);\n      }),\n  };\n};\n","import { realpathSync } from 'fs';\nimport { resolve } from 'path';\nimport { type OptionsType } from '../createOptions';\n\nexport default (options: OptionsType) => ({\n  strictExportPresence: true,\n\n  rules: [\n    // Disable require.ensure as it's not a standard language feature.\n    { parser: { requireEnsure: false } },\n\n    // tsx? / jsx?\n    {\n      test: options.typescript ? /\\.[tj]sx?$/ : /\\.jsx?$/,\n      include: [\n        resolve(options.paths.src),\n        ...options.includeModules.map(includeModule =>\n          realpathSync(resolve('node_modules', includeModule)),\n        ),\n        ...options.includePaths,\n      ],\n      loaders: [\n        {\n          loader: require.resolve('babel-loader'),\n          options: {\n            babelrc: false,\n            cacheDirectory: true,\n            ...options.babel,\n          },\n        },\n        ...(options.jsLoaders || []),\n      ],\n    },\n\n    // other rules\n    ...(options.moduleRules || []),\n  ],\n});\n","import webpack from 'webpack';\nimport CaseSensitivePathsPlugin from 'case-sensitive-paths-webpack-plugin';\nimport { type OptionsType } from '../createOptions';\n\nexport default (options: OptionsType) =>\n  [\n    ...options.prependPlugins,\n\n    // ignore files when watching\n    new webpack.WatchIgnorePlugin([\n      // typescript definitions\n      /\\.d\\.ts$/,\n    ]),\n\n    // enforces the entire path of all required modules match the exact case\n    // of the actual path on disk. Using this plugin helps alleviate cases\n    // for developers working on case insensitive systems like OSX.\n    options.env !== 'production' && new CaseSensitivePathsPlugin(),\n\n    new webpack.DefinePlugin({\n      'process.env.NODE_ENV': JSON.stringify(options.env),\n      ...options.defines,\n    }),\n\n    options.hmr && new webpack.HotModuleReplacementPlugin(),\n\n    /* replace object-assign ponyfill to use native implementation */\n\n    // Object.assign\n    new webpack.NormalModuleReplacementPlugin(\n      /.*\\/node_modules\\/object-assign\\/index.js/,\n      require.resolve('../replacements/object-assign.js'),\n    ),\n\n    // Promise\n    new webpack.NormalModuleReplacementPlugin(\n      /.*\\/node_modules\\/any-promise\\/index.js/,\n      require.resolve('../replacements/Promise.js'),\n    ),\n\n    new webpack.IgnorePlugin(/.*/, /node_modules\\/any-promise$/),\n\n    ...options.plugins,\n  ].filter(Boolean);\n","/* eslint-disable prettier/prettier */\nimport { resolve } from 'path';\nimport { type OptionsType } from '../createOptions';\n\nexport default (modulePrefixPackageFields: Array<string>, options: OptionsType) => ({\n  cacheWithContext: false,\n\n  modules: ['node_modules', resolve('src')],\n  extensions: [options.typescript && '.ts', options.typescript && '.tsx', '.js', '.jsx'].filter(Boolean),\n\n  mainFields: [\n    ...[].concat(...modulePrefixPackageFields.map(prefix => ([\n      options.env !== 'production' && `module:${prefix}-dev`,\n      `module:${prefix}`,\n      // old `webpack:` syntax\n      options.env !== 'production' && `webpack:${prefix}-dev`,\n      `webpack:${prefix}`,\n    ]))),\n\n    options.env !== 'production' && 'module-dev',\n    'module',\n    // old webpack: syntax\n    options.env !== 'production' && 'webpack:main-dev',\n    'webpack:main',\n\n    ...(!modulePrefixPackageFields.includes('browser') ? [\n    ] : [\n      // Browser builds\n      options.env !== 'production' && 'browser-dev',\n      'browser',\n    ]),\n    options.env !== 'production' && 'main-dev',\n    'main',\n  ].filter(Boolean),\n\n  aliasFields: [\n    ...[].concat(...modulePrefixPackageFields.map(prefix => ([\n      options.env !== 'production' && `module:aliases-${prefix}-dev`,\n      `module:aliases-${prefix}`,\n\n      // old webpack: syntax\n      options.env !== 'production' && `webpack:aliases-${prefix}-dev`,\n      `webpack:aliases-${prefix}`,\n    ]))),\n\n    options.env !== 'production' && 'module:aliases-dev',\n    'module:aliases',\n\n    // old webpack: syntax\n    options.env !== 'production' && 'webpack:aliases-dev',\n    'webpack:aliases',\n    'webpack',\n    modulePrefixPackageFields.includes('browser') && options.env !== 'production' && 'browser-dev',\n    modulePrefixPackageFields.includes('browser') && 'browser',\n  ].filter(Boolean),\n\n  alias: options.aliases,\n});\n"],"names":["options","aliases","babel","defines","entries","env","process","NODE_ENV","hmr","includeModules","includePaths","jsLoaders","moduleRules","src","build","paths","plugins","prependPlugins","resolveLoaderModules","typescript","webpackPrefixPackageFields","createWebpackConfig","wrapCreateWebpackConfig","createOptions","appWebpackConfigPath","path","resolve","existsSync","log","appWebpackConfigCreator","require","error","config","addConfig","key","handler","ConsoleHandler","levels","INFO","logger","Logger","isSuccessful","messages","errors","length","warnings","plugin","name","FriendlyErrorsWebpackPlugin","OptionsType","assign","context","bundleName","compiler","hooks","invalid","tap","info","done","stats","formatWebpackMessages","toJson","success","successMessage","critical","forEach","message","buildThrowOnError","hasErrors","Error","toString","webpackConfig","progressBar","webpack","stdout","isTTY","bar","progressPlugin","ProgressPlugin","percentage","msg","ProgressBar","chalk","yellow","bold","incomplete","complete","total","clear","stream","update","substr","apply","promisifyRun","promisify","run","bind","output","execSync","then","callback","watch","err","parser","requireEnsure","map","includeModule","realpathSync","WatchIgnorePlugin","CaseSensitivePathsPlugin","DefinePlugin","JSON","stringify","HotModuleReplacementPlugin","NormalModuleReplacementPlugin","IgnorePlugin","filter","Boolean","modulePrefixPackageFields","concat","prefix","includes"],"mappings":"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"}