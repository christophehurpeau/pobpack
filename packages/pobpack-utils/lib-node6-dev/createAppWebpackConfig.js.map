{"version":3,"sources":["../src/createAppWebpackConfig.js"],"names":["createWebpackConfig","wrapCreateWebpackConfig","options","appWebpackConfigPath","resolve","console","log","appWebpackConfigCreator","require","error","config"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEe,gCAACA,mBAAD,EAAyB;AACtC,QAAMC,0BAA0BC,WAAWF,oBAAoB,6BAAcE,OAAd,CAApB,CAA3C;;AAEA,SAAQA,OAAD,IAAa;AAClB,UAAMC,uBAAuB,eAAKC,OAAL,CAAa,2BAAb,CAA7B;AACA,QAAI,oBAAWD,oBAAX,CAAJ,EAAsC;AACpCE,cAAQC,GAAR,CAAY,qCAAZ;AACA;AACA,YAAMC,0BAA0BC,QAAQL,oBAAR,CAAhC;AACA,UAAI,OAAOI,uBAAP,KAAmC,UAAvC,EAAmD;AACjDF,gBAAQI,KAAR;AAID;;AAEDP,gBAAU,6BAAcA,OAAd,CAAV;AACA,YAAMQ,SAASH,wBAAwBN,uBAAxB,EAAiDC,OAAjD,CAAf;;AAEA,UAAI,OAAOQ,MAAP,KAAkB,QAAtB,EAAgC;AAC9BL,gBAAQI,KAAR;AAID;;AAED,aAAOC,MAAP;AACD,KAtBD,MAsBO;AACL,aAAOT,wBAAwBC,OAAxB,CAAP;AACD;AACF,GA3BD;AA4BD,C","file":"createAppWebpackConfig.js","sourcesContent":["import path from 'path';\nimport { existsSync } from 'fs';\nimport createOptions from './createOptions';\n\nexport default (createWebpackConfig) => {\n  const wrapCreateWebpackConfig = options => createWebpackConfig(createOptions(options));\n\n  return (options) => {\n    const appWebpackConfigPath = path.resolve('createAppWebpackConfig.js');\n    if (existsSync(appWebpackConfigPath)) {\n      console.log('Using app createAppWebpackConfig.js');\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      const appWebpackConfigCreator = require(appWebpackConfigPath);\n      if (typeof appWebpackConfigCreator !== 'function') {\n        console.error(\n          'app createAppWebpackConfig.js should export a function\\n'\n          + 'module.exports = function (config, options) { ... }'\n        );\n      }\n\n      options = createOptions(options);\n      const config = appWebpackConfigCreator(wrapCreateWebpackConfig, options);\n\n      if (typeof config !== 'object') {\n        console.error(\n          'app createAppWebpackConfig.js should return the config\\n'\n          + 'function (config, options) { return config; }'\n        );\n      }\n\n      return config;\n    } else {\n      return wrapCreateWebpackConfig(options);\n    }\n  };\n};\n"]}