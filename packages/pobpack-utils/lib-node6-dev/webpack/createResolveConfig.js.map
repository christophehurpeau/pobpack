{"version":3,"sources":["../../src/webpack/createResolveConfig.js"],"names":["modulePrefixPackageFields","options","cacheWithContext","modules","extensions","mainFields","concat","map","prefix","env","includes","filter","Boolean","aliasFields","alias","aliases"],"mappings":";;;;;;AACA;;AACA;;;;;;;;iFAFA;;;kBAIe,6BAACA,yBAAD,EAA2CC,OAA3C;AAAA,uCAA0B,4BAAQ,8BAAR,CAA1B;;AAAA,qBAAkD,sCAAlD;;AAAA;;AAAA;;AAAA,SAAqE;AAClFC,sBAAkB,KADgE;;AAGlFC,aAAS,CAAC,cAAD,EAAiB,mBAAQ,KAAR,CAAjB,CAHyE;AAIlFC,+BAJkF;;AAMlFC,gBAAY,CACV,GAAG,GAAGC,MAAH,CAAU,GAAGN,0BAA0BO,GAA1B,CAA8BC,UAAW,CACvDP,QAAQQ,GAAR,KAAgB,YAAhB,IAAiC,UAASD,MAAO,MADM,EAEtD,UAASA,MAAO,EAFsC;AAGvD;AACAP,YAAQQ,GAAR,KAAgB,YAAhB,IAAiC,WAAUD,MAAO,MAJK,EAKtD,WAAUA,MAAO,EALqC,CAAzC,CAAb,CADO,EASVP,QAAQQ,GAAR,KAAgB,YAAhB,IAAgC,YATtB,EAUV,QAVU;AAWV;AACAR,YAAQQ,GAAR,KAAgB,YAAhB,IAAgC,kBAZtB,EAaV,cAbU,EAeV,IAAI,CAACT,0BAA0BU,QAA1B,CAAmC,SAAnC,CAAD,QACA;AACF;AACAT,YAAQQ,GAAR,KAAgB,YAAhB,IAAgC,aAF9B,EAGF,SAHE,CADJ,CAfU,EAqBVR,QAAQQ,GAAR,KAAgB,YAAhB,IAAgC,UArBtB,EAsBV,MAtBU,EAuBVE,MAvBU,CAuBHC,OAvBG,CANsE;;AA+BlFC,iBAAa,CACX,GAAG,GAAGP,MAAH,CAAU,GAAGN,0BAA0BO,GAA1B,CAA8BC,UAAW,CACvDP,QAAQQ,GAAR,KAAgB,YAAhB,IAAiC,kBAAiBD,MAAO,MADF,EAEtD,kBAAiBA,MAAO,EAF8B;;AAIvD;AACAP,YAAQQ,GAAR,KAAgB,YAAhB,IAAiC,mBAAkBD,MAAO,MALH,EAMtD,mBAAkBA,MAAO,EAN6B,CAAzC,CAAb,CADQ,EAUXP,QAAQQ,GAAR,KAAgB,YAAhB,IAAgC,oBAVrB,EAWX,gBAXW;;AAaX;AACAR,YAAQQ,GAAR,KAAgB,YAAhB,IAAgC,qBAdrB,EAeX,iBAfW,EAgBX,SAhBW,EAiBXT,0BAA0BU,QAA1B,CAAmC,SAAnC,KAAiDT,QAAQQ,GAAR,KAAgB,YAAjE,IAAiF,aAjBtE,EAkBXT,0BAA0BU,QAA1B,CAAmC,SAAnC,KAAiD,SAlBtC,EAmBXC,MAnBW,CAmBJC,OAnBI,CA/BqE;;AAoDlFE,WAAOb,QAAQc;AApDmE,GAArE;AAAA,C","file":"createResolveConfig.js","sourcesContent":["/* eslint-disable prettier/prettier */\nimport { resolve } from 'path';\nimport { type OptionsType } from '../createOptions';\n\nexport default (modulePrefixPackageFields: Array<string>, options: OptionsType) => ({\n  cacheWithContext: false,\n\n  modules: ['node_modules', resolve('src')],\n  extensions: ['.js', '.jsx'],\n\n  mainFields: [\n    ...[].concat(...modulePrefixPackageFields.map(prefix => ([\n      options.env !== 'production' && `module:${prefix}-dev`,\n      `module:${prefix}`,\n      // old `webpack:` syntax\n      options.env !== 'production' && `webpack:${prefix}-dev`,\n      `webpack:${prefix}`,\n    ]))),\n\n    options.env !== 'production' && 'module-dev',\n    'module',\n    // old webpack: syntax\n    options.env !== 'production' && 'webpack:main-dev',\n    'webpack:main',\n\n    ...(!modulePrefixPackageFields.includes('browser') ? [\n    ] : [\n      // Browser builds\n      options.env !== 'production' && 'browser-dev',\n      'browser',\n    ]),\n    options.env !== 'production' && 'main-dev',\n    'main',\n  ].filter(Boolean),\n\n  aliasFields: [\n    ...[].concat(...modulePrefixPackageFields.map(prefix => ([\n      options.env !== 'production' && `module:aliases-${prefix}-dev`,\n      `module:aliases-${prefix}`,\n\n      // old webpack: syntax\n      options.env !== 'production' && `webpack:aliases-${prefix}-dev`,\n      `webpack:aliases-${prefix}`,\n    ]))),\n\n    options.env !== 'production' && 'module:aliases-dev',\n    'module:aliases',\n\n    // old webpack: syntax\n    options.env !== 'production' && 'webpack:aliases-dev',\n    'webpack:aliases',\n    'webpack',\n    modulePrefixPackageFields.includes('browser') && options.env !== 'production' && 'browser-dev',\n    modulePrefixPackageFields.includes('browser') && 'browser',\n  ].filter(Boolean),\n\n  alias: options.aliases,\n});\n"]}