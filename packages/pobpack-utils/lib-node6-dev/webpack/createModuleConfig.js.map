{"version":3,"sources":["../../src/webpack/createModuleConfig.js"],"names":["options","strictExportPresence","rules","parser","requireEnsure","test","loader","include","paths","src","includeModules","map","includeModule","includePaths","loaders","require","resolve","babelrc","cacheDirectory","babel","jsLoaders","moduleRules"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;;;;;;;;kBAEe,4BAACA,OAAD;AAAA,qBAAQ,sCAAR;;AAAA;;AAAA,SAA2B;AACxCC,0BAAsB,IADkB;;AAGxCC,WAAO;AACL;AACA,MAAEC,QAAQ,EAAEC,eAAe,KAAjB,EAAV,EAFK;;AAIL;AACA;AACEC,YAAM,SADR;AAEEC,cAAQ;AAFV,KALK;;AAUL;AACA;AACED,YAAM,SADR;AAEEE,eAAS,CACP,mBAAQP,QAAQQ,KAAR,CAAcC,GAAtB,CADO,EAEP,GAAGT,QAAQU,cAAR,CAAuBC,GAAvB,CAA2BC,iBAC5B,sBAAa,mBAAQ,cAAR,EAAwBA,aAAxB,CAAb,CADC,CAFI,EAKP,GAAGZ,QAAQa,YALJ,CAFX;AASEC,eAAS,CACP;AACER,gBAAQS,QAAQC,OAAR,CAAgB,cAAhB,CADV;AAEEhB;AACEiB,mBAAS,KADX;AAEEC,0BAAgB;AAFlB,WAGKlB,QAAQmB,KAHb;AAFF,OADO,EASP,IAAInB,QAAQoB,SAAR,MAAJ,CATO;AATX,KAXK;;AAiCL;AACA,QAAIpB,QAAQqB,WAAR,MAAJ,CAlCK;AAHiC,GAA3B;AAAA,C","file":"createModuleConfig.js","sourcesContent":["import { realpathSync } from 'fs';\nimport { resolve } from 'path';\nimport { type OptionsType } from '../createOptions';\n\nexport default (options: OptionsType) => ({\n  strictExportPresence: true,\n\n  rules: [\n    // Disable require.ensure as it's not a standard language feature.\n    { parser: { requireEnsure: false } },\n\n    // json\n    {\n      test: /\\.json$/,\n      loader: 'json-loader',\n    },\n\n    // jsx?\n    {\n      test: /\\.jsx?$/,\n      include: [\n        resolve(options.paths.src),\n        ...options.includeModules.map(includeModule =>\n          realpathSync(resolve('node_modules', includeModule)),\n        ),\n        ...options.includePaths,\n      ],\n      loaders: [\n        {\n          loader: require.resolve('babel-loader'),\n          options: {\n            babelrc: false,\n            cacheDirectory: true,\n            ...options.babel,\n          },\n        },\n        ...(options.jsLoaders || []),\n      ],\n    },\n\n    // other rules\n    ...(options.moduleRules || []),\n  ],\n});\n"]}