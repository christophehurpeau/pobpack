{"version":3,"sources":["../src/cli.js"],"names":["BUILD","process","argv","daemon","server","paths","build","autorestart","start","kill"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;;;AAEA,MAAMA,QAAQC,QAAQC,IAAR,CAAa,CAAb,MAAoB,OAAlC;;AAEA,IAAIF,KAAJ,EAAW;AACT;AACD,CAFD,MAEO;AACL,QAAMG,SAAS,6BAAK,CAAC,gBAAK,iBAAOC,MAAP,CAAcC,KAAd,CAAoBC,KAAzB,CAAD,CAAL,EAAwC,EAAEC,aAAa,IAAf,EAAxC,CAAf;AACA,oBAAM,MAAgB;AACpB,QAAI,CAACJ,OAAOF,OAAZ,EAAqB;AACnBE,aAAOK,KAAP;AACD,KAFD,MAEO;AACL;AACAL,aAAOF,OAAP,CAAeQ,IAAf,CAAoB,SAApB;AACD;AACF,GAPD;AAQD","file":"cli.js","sourcesContent":["import { join } from 'path';\nimport { node } from 'springbokjs-daemon/src';\nimport { build, watch } from './index';\nimport config from './config';\n\nconst BUILD = process.argv[2] === 'build';\n\nif (BUILD) {\n  build();\n} else {\n  const daemon = node([join(config.server.paths.build)], { autorestart: true });\n  watch((err, stats) => {\n    if (!daemon.process) {\n      daemon.start();\n    } else {\n      // already started, send a signal to ask hot reload\n      daemon.process.kill('SIGUSR2');\n    }\n  });\n}\n"]}